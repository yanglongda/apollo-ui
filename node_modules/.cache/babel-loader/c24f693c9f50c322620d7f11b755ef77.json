{"remainingRequest":"/Users/long/Desktop/apollo-ui/node_modules/babel-loader/lib/index.js!/Users/long/Desktop/apollo-ui/src/directive/permission/hasRole.js","dependencies":[{"path":"/Users/long/Desktop/apollo-ui/src/directive/permission/hasRole.js","mtime":1598605951751},{"path":"/Users/long/Desktop/apollo-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/long/Desktop/apollo-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n\n/**\r\n* 角色权限处理\r\n* Copyright (c) 2019 ruoyi\r\n*/\nimport store from '@/store';\nexport default {\n  inserted: function inserted(el, binding, vnode) {\n    var value = binding.value;\n    var super_admin = \"admin\";\n    var roles = store.getters && store.getters.roles;\n\n    if (value && value instanceof Array && value.length > 0) {\n      var roleFlag = value;\n      var hasRole = roles.some(function (role) {\n        return super_admin === role || roleFlag.includes(role);\n      });\n\n      if (!hasRole) {\n        el.parentNode && el.parentNode.removeChild(el);\n      }\n    } else {\n      throw new Error(\"\\u8BF7\\u8BBE\\u7F6E\\u89D2\\u8272\\u6743\\u9650\\u6807\\u7B7E\\u503C\\\"\");\n    }\n  }\n};",{"version":3,"sources":["/Users/long/Desktop/apollo-ui/src/directive/permission/hasRole.js"],"names":["store","inserted","el","binding","vnode","value","super_admin","roles","getters","Array","length","roleFlag","hasRole","some","role","includes","parentNode","removeChild","Error"],"mappings":";;;AAAC;;;;AAKD,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACbC,EAAAA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;AAAA,QACnBC,KADmB,GACTF,OADS,CACnBE,KADmB;AAE3B,QAAMC,WAAW,GAAG,OAApB;AACA,QAAMC,KAAK,GAAGP,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACQ,OAAN,CAAcD,KAA7C;;AAEA,QAAIF,KAAK,IAAIA,KAAK,YAAYI,KAA1B,IAAmCJ,KAAK,CAACK,MAAN,GAAe,CAAtD,EAAyD;AACvD,UAAMC,QAAQ,GAAGN,KAAjB;AAEA,UAAMO,OAAO,GAAGL,KAAK,CAACM,IAAN,CAAW,UAAAC,IAAI,EAAI;AACjC,eAAOR,WAAW,KAAKQ,IAAhB,IAAwBH,QAAQ,CAACI,QAAT,CAAkBD,IAAlB,CAA/B;AACD,OAFe,CAAhB;;AAIA,UAAI,CAACF,OAAL,EAAc;AACZV,QAAAA,EAAE,CAACc,UAAH,IAAiBd,EAAE,CAACc,UAAH,CAAcC,WAAd,CAA0Bf,EAA1B,CAAjB;AACD;AACF,KAVD,MAUO;AACL,YAAM,IAAIgB,KAAJ,kEAAN;AACD;AACF;AAnBY,CAAf","sourcesContent":[" /**\r\n * 角色权限处理\r\n * Copyright (c) 2019 ruoyi\r\n */\r\n \r\nimport store from '@/store'\r\n\r\nexport default {\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding\r\n    const super_admin = \"admin\";\r\n    const roles = store.getters && store.getters.roles\r\n\r\n    if (value && value instanceof Array && value.length > 0) {\r\n      const roleFlag = value\r\n\r\n      const hasRole = roles.some(role => {\r\n        return super_admin === role || roleFlag.includes(role)\r\n      })\r\n\r\n      if (!hasRole) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    } else {\r\n      throw new Error(`请设置角色权限标签值\"`)\r\n    }\r\n  }\r\n}\r\n"]}]}