{"remainingRequest":"/Users/long/Desktop/apollo-ui/node_modules/babel-loader/lib/index.js!/Users/long/Desktop/apollo-ui/src/directive/permission/hasPermi.js","dependencies":[{"path":"/Users/long/Desktop/apollo-ui/src/directive/permission/hasPermi.js","mtime":1598605951751},{"path":"/Users/long/Desktop/apollo-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/long/Desktop/apollo-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n\n/**\r\n* 操作权限处理\r\n* Copyright (c) 2019 ruoyi\r\n*/\nimport store from '@/store';\nexport default {\n  inserted: function inserted(el, binding, vnode) {\n    var value = binding.value;\n    var all_permission = \"*:*:*\";\n    var permissions = store.getters && store.getters.permissions;\n\n    if (value && value instanceof Array && value.length > 0) {\n      var permissionFlag = value;\n      var hasPermissions = permissions.some(function (permission) {\n        return all_permission === permission || permissionFlag.includes(permission);\n      });\n\n      if (!hasPermissions) {\n        el.parentNode && el.parentNode.removeChild(el);\n      }\n    } else {\n      throw new Error(\"\\u8BF7\\u8BBE\\u7F6E\\u64CD\\u4F5C\\u6743\\u9650\\u6807\\u7B7E\\u503C\");\n    }\n  }\n};",{"version":3,"sources":["/Users/long/Desktop/apollo-ui/src/directive/permission/hasPermi.js"],"names":["store","inserted","el","binding","vnode","value","all_permission","permissions","getters","Array","length","permissionFlag","hasPermissions","some","permission","includes","parentNode","removeChild","Error"],"mappings":";;;AAAC;;;;AAKD,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACbC,EAAAA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;AAAA,QACnBC,KADmB,GACTF,OADS,CACnBE,KADmB;AAE3B,QAAMC,cAAc,GAAG,OAAvB;AACA,QAAMC,WAAW,GAAGP,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACQ,OAAN,CAAcD,WAAnD;;AAEA,QAAIF,KAAK,IAAIA,KAAK,YAAYI,KAA1B,IAAmCJ,KAAK,CAACK,MAAN,GAAe,CAAtD,EAAyD;AACvD,UAAMC,cAAc,GAAGN,KAAvB;AAEA,UAAMO,cAAc,GAAGL,WAAW,CAACM,IAAZ,CAAiB,UAAAC,UAAU,EAAI;AACpD,eAAOR,cAAc,KAAKQ,UAAnB,IAAiCH,cAAc,CAACI,QAAf,CAAwBD,UAAxB,CAAxC;AACD,OAFsB,CAAvB;;AAIA,UAAI,CAACF,cAAL,EAAqB;AACnBV,QAAAA,EAAE,CAACc,UAAH,IAAiBd,EAAE,CAACc,UAAH,CAAcC,WAAd,CAA0Bf,EAA1B,CAAjB;AACD;AACF,KAVD,MAUO;AACL,YAAM,IAAIgB,KAAJ,gEAAN;AACD;AACF;AAnBY,CAAf","sourcesContent":[" /**\r\n * 操作权限处理\r\n * Copyright (c) 2019 ruoyi\r\n */\r\n \r\nimport store from '@/store'\r\n\r\nexport default {\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding\r\n    const all_permission = \"*:*:*\";\r\n    const permissions = store.getters && store.getters.permissions\r\n\r\n    if (value && value instanceof Array && value.length > 0) {\r\n      const permissionFlag = value\r\n\r\n      const hasPermissions = permissions.some(permission => {\r\n        return all_permission === permission || permissionFlag.includes(permission)\r\n      })\r\n\r\n      if (!hasPermissions) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    } else {\r\n      throw new Error(`请设置操作权限标签值`)\r\n    }\r\n  }\r\n}\r\n"]}]}