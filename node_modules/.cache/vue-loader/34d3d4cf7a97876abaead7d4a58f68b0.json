{"remainingRequest":"/Users/long/Desktop/apollo-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/long/Desktop/apollo-ui/src/views/userManagement/userList/index.vue?vue&type=style&index=0&id=073ccde3&lang=scss&scoped=true&","dependencies":[{"path":"/Users/long/Desktop/apollo-ui/src/views/userManagement/userList/index.vue","mtime":1599631910695},{"path":"/Users/long/Desktop/apollo-ui/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/long/Desktop/apollo-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/long/Desktop/apollo-ui/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/long/Desktop/apollo-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/long/Desktop/apollo-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.career {\n  width: calc(100% - 40px);\n  margin: 0px 20px 75px 20px;\n  background: #fff;\n\n  border-radius: 20px;\n  min-height: calc(100vh - 178px);\n  padding: 30px;\n  position: relative;\n}\n/deep/ .el-form-item {\n  display: inline-block;\n}\n.pos {\n  position: absolute;\n  right: 10px;\n  bottom: 20px;\n}\n/deep/ .el-dialog {\n  width: 1000px;\n}\n.dialogFormVisible {\n  /deep/ .el-form-item {\n    margin-bottom: 22px;\n    display: flex;\n    justify-content: flex-end;\n  }\n  /deep/ .el-dialog__body {\n    padding: 30px 20px 0 20px;\n  }\n  #wuxu {\n    position: absolute;\n    top: 30px;\n    left: 0;\n    font-size: 12px;\n    color: #999;\n  }\n}\n/deep/ .el-form {\n  overflow: hidden;\n  \n}\n.ruleForm-l {\n  margin:0 20px;\n  float:left;\n}\n.ruleForm-r {\n   margin:0 20px;\n   float:left;\n}\n.atemplate {\n  /deep/ .el-dialog{\n    width:600px;\n  }\n  /deep/ .el-dialog__body {\n    font-size: 14px;\n    line-height: 25px;\n    span {\n      color: #ff4949;\n    }\n  }\n  .atemplate-footer {\n    padding: 0 20px;\n    display: flex;\n    justify-content: space-around;\n    .el-button {\n      width: 160px;\n      height: 36px;\n      background: #1890ff;\n      color: #fff;\n    }\n    .footer-left {\n      border: solid 1px #1890ff;\n      color: #1890ff;\n      background: #fff;\n    }\n  }\n}\n/deep/.el-table tr{\n  position: relative;\n  z-index:9;\n}\n/deep/ .el-table .cell{\n.el-button--text{\n  position: relative;\n  z-index: 99;\n}\n}\n/deep/ .el-textarea__inner{\n  height:100px;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA05BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/userManagement/userList","sourcesContent":["<template>\n  <div class=\"career\">\n    <el-form ref=\"form\" class=\"form\" :model=\"form\">\n      <el-form-item label=\"所属部门\" style=\"width:290px\">\n        <el-select\n          v-model=\"form.deptId\"\n          style=\"width:204px;\"\n          filterable\n          placeholder=\"请选择\"\n        >\n          <el-option label=\"全部\" value=''></el-option>\n         <el-option v-for=\"item in deptList\" :key='item.id' :label='item.deptName' :value='item.id'></el-option>\n             \n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"人员岗位\" style=\"width:290px\">\n        <el-select\n          v-model=\"form.postId\"\n          style=\"width:204px;\"\n          filterable\n          placeholder=\"请选择\"\n        >\n          <el-option label=\"全部\" value=''></el-option>\n          <el-option v-for=\"item in postList\" :key='item.id' :label='item.name' :value='item.id'></el-option>\n           \n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"搜索\" style=\"width:290px;\">\n        <el-input\n          v-model=\"form.keyword\"\n          style=\"width:240px;\"\n\n          placeholder=\"输入姓名、手机号\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"handleQueryForm\">搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <el-button type=\"primary\" @click=\"addDep\">新增</el-button>\n    <el-button type=\"info\" @click=\"handleImport\">导入</el-button>\n    <el-button type=\"warning\" ><a :href=\"apiBase+'/api/person/export'\">导出</a></el-button>\n    <el-table\n      v-loading=\"loading\"\n      class=\"table-num\"\n      :data=\"data\"\n      @row-click=\"row\"\n      style=\"margin-top:20px;\"\n    >\n      <tamplate slot=\"empty\">\n        <p style=\"font-size:12px;margin:0;\">\n          暂无数据，\n          <el-botton\n            size=\"mini\"\n            type=\"text\"\n            @click=\"addDep\"\n            style=\"cursor:pointer;color: #409eff;\"\n            >点击新增</el-botton\n          >\n        </p>\n      </tamplate>\n      <el-table-column label=\"姓名\" align=\"center\" prop=\"name\" />\n      <el-table-column label=\"手机号\" align=\"center\" prop=\"mobile\" />\n      <el-table-column label=\"所属部门\" align=\"center\" prop=\"deptName\" />\n      <el-table-column label=\"人员岗位\" align=\"center\" prop=\"post\" />\n      <el-table-column label=\"职务层次\" align=\"center\" prop=\"level\" />\n      <el-table-column label=\"人员排序码\" align=\"center\" prop=\"sort\" />\n      <el-table-column label=\"操作\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            style=\"font-size:12px;color: #409eff;\"\n            @click=\"addDep(scope.row)\"\n            >修改</el-button\n          >\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            style=\"font-size:12px;color: #409eff;\"\n            @click=\"deleteDep(scope.row)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pos\">\n      <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"form.page\"\n        :limit.sync=\"form.size\"\n        @pagination=\"handleQuery\"\n      />\n    </div>\n    <el-dialog\n      :title=\"title\"\n      class=\"dialogFormVisible\"\n      :visible.sync=\"dialogFormVisible\"\n      append-to-body\n    >\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\">\n        <div class=\"ruleForm-l\">\n          <el-form-item label=\"所属单位\" style prop=\"unitId\" >\n            <el-select\n              v-model=\"ruleForm.unitId\"\n              filterable\n              style=\"width:250px;\"\n              @change=\"change1\"\n              placeholder=\"请选择\"\n            >\n              <el-option v-for=\"item in unitList\" :key='item.id' :label=\"item.name\" :value=\"item.id\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"所属部门\" style prop=\"deptId\">\n            <el-select\n              v-model=\"ruleForm.deptId\"\n              filterable\n              style=\"width:250px;\"\n              @change=\"change2\"\n              placeholder=\"请选择\"\n            >\n             <el-option v-for=\"item in deptList\" :key='item.id' :label='item.deptName' :value='item.id'></el-option>\n             \n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"人员编制\" style prop=\"rybz\">\n            <el-select\n              v-model=\"ruleForm.rybz\"\n              filterable\n              style=\"width:250px;\"\n              @change=\"change3\"\n              placeholder=\"请选择\"\n            >\n            <el-option v-for=\"item in rybzList\" :key='item.label' :label='item.label' :value='item.value'></el-option>\n              \n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"职级\" style prop=\"level\">\n            <el-select\n              v-model=\"ruleForm.level\"\n              filterable\n              style=\"width:250px;\"\n              @change=\"change4\"\n              placeholder=\"请选择\"\n            >\n              <el-option v-for=\"item in levelList\" :key='item.label' :label='item.label' :value='item.value'></el-option>\n             \n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"人员岗位\" style prop=\"postId\">\n            <el-select\n              v-model=\"ruleForm.postId\"\n              filterable\n              style=\"width:250px;\"\n              @change=\"change5\"\n              placeholder=\"请选择\"\n            >\n             <el-option v-for=\"item in postList\" :key='item.id' :label='item.name' :value='item.id'></el-option>\n           \n            </el-select>\n          </el-form-item>\n\n          <el-form-item\n            label=\"人员排序码\"\n           \n            prop=\"sort\"\n          >\n            <el-input\n              v-model=\"ruleForm.sort\"\n              style=\"width:250px;\"\n              placeholder=\"如1，不输入默认排在最后\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"办公地址\" style prop=\"oa\">\n            <el-input\n              v-model=\"ruleForm.oa\"\n              style=\"width:250px;\"\n              placeholder=\"请输入办公地址\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" style prop=\"email\">\n            <el-input\n              v-model=\"ruleForm.email\"\n              style=\"width:250px;\"\n              placeholder=\"请输入邮箱\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"办公电话\" style prop=\"phone\">\n            <el-input\n              v-model=\"ruleForm.phone\"\n              style=\"width:250px;\"\n              placeholder=\"请输入办公电话\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"传真\" style prop=\"fax\">\n            <el-input\n              v-model=\"ruleForm.fax\"\n              style=\"width:250px;\"\n              placeholder=\"请输入传真\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"直接领导\" style prop=\"zzld\">\n            <el-input\n              v-model=\"ruleForm.zzld\"\n              style=\"width:250px;\"\n              placeholder=\"请输入直接领导\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"参加工作时间\" style prop=\"cjgzsj\">\n            <el-input\n              v-model=\"ruleForm.cjgzsj\"\n              style=\"width:250px;\"\n              placeholder=\"请输入参加工作时间\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"进入本单位时间\" style prop=\"jrbdwsj\">\n            <el-input\n              v-model=\"ruleForm.jrbdwsj\"\n              style=\"width:250px;\"\n              placeholder=\"请输入进入本单位时间\"\n            ></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"ruleForm-r\">\n          <el-form-item label=\"姓名\" style prop=\"name\">\n            <el-input\n              v-model=\"ruleForm.name\"\n              style=\"width:250px;\"\n              placeholder=\"请输入用户真实姓名\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"手机号\" style prop=\"mobile\">\n            <el-input\n              v-model=\"ruleForm.mobile\"\n              style=\"width:250px;\"\n              placeholder=\"请输入用户手机号\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"性别\" style prop=\"sex\">\n            <el-select\n              v-model=\"ruleForm.sex\"\n              filterable\n              style=\"width:250px;\"\n            \n              placeholder=\"请选择\"\n            >\n              <el-option v-for=\"item in sexList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"身份证号\" style prop=\"idCard\">\n            <el-input\n              v-model=\"ruleForm.idCard\"\n              style=\"width:250px;\"\n              placeholder=\"请输入用户身份证号\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"出生日期\" style prop=\"birthday\">\n            <el-input\n              v-model=\"ruleForm.birthday\"\n              style=\"width:250px;\"\n              placeholder=\"请输入用户出生日期\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"家庭邮编\" style prop=\"jtyb\">\n            <el-input\n              v-model=\"ruleForm.jtyb\"\n              style=\"width:250px;\"\n              placeholder=\"请输入家庭邮编\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"家庭电话\" style prop=\"homePhone\">\n            <el-input\n              v-model=\"ruleForm.homePhone\"\n              style=\"width:250px;\"\n              placeholder=\"请输入家庭电话\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"家庭住址\" style prop=\"address\">\n            <el-input\n              v-model=\"ruleForm.address\"\n              style=\"width:250px;\"\n              placeholder=\"请输入用户家庭住址\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"政治面貌\" style prop=\"zzmm\">\n            <el-input\n              v-model=\"ruleForm.zzmm\"\n              style=\"width:250px;\"\n              placeholder=\"请输入用户政治面貌\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"备注\" style prop=\"remark\">\n            <el-input\n              v-model=\"ruleForm.remark\"\n              type=\"textarea\"\n              style=\"width:250px;\"\n              placeholder=\"特殊需要备注的信息\"\n            ></el-input>\n          </el-form-item>\n        </div>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"handleruleForm\">确 定</el-button>\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n      </div>\n    </el-dialog>\n     <el-dialog\n      :title=\"title3\"\n      class=\"dialogFormVisible\"\n      :visible.sync=\"dialogFormVisible2\"\n      append-to-body\n    >\n     <el-form :model=\"ruleForm\" class=\"personal\" :rules=\"rules\" ref=\"ruleForm\">\n        <div class=\"ruleForm-l\">\n          <el-form-item label=\"所属单位\" style prop=\"unitId\" >\n            <el-select\n              v-model=\"ruleForm.unitId\"\n              filterable\n              :disabled=\"isdisabled2\"\n              style=\"width:250px;\"\n              @change=\"change1\"\n              placeholder=\"请选择\"\n            >\n              <el-option v-for=\"item in unitList\" :key='item.id' :label=\"item.name\" :value=\"item.id\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"所属部门\" style prop=\"deptId\">\n            <el-select\n              v-model=\"ruleForm.deptId\"\n              filterable\n              :disabled=\"isdisabled2\"\n              style=\"width:250px;\"\n              @change=\"change2\"\n              placeholder=\"请选择\"\n            >\n             <el-option v-for=\"item in deptList\" :key='item.id' :label='item.deptName' :value='item.id'></el-option>\n             \n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"人员编制\" style prop=\"rybz\">\n            <el-select\n              v-model=\"ruleForm.rybz\"\n              filterable\n              :disabled=\"isdisabled2\"\n              style=\"width:250px;\"\n              @change=\"change3\"\n              placeholder=\"请选择\"\n            >\n            <el-option v-for=\"item in rybzList\" :key='item.label' :label='item.label' :value='item.value'></el-option>\n              \n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"职级\" style prop=\"level\">\n            <el-select\n              v-model=\"ruleForm.level\"\n              filterable\n              :disabled=\"isdisabled2\"\n              style=\"width:250px;\"\n              @change=\"change4\"\n              placeholder=\"请选择\"\n            >\n              <el-option v-for=\"item in levelList\" :key='item.label' :label='item.label' :value='item.value'></el-option>\n             \n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"人员岗位\" style prop=\"postId\">\n            <el-select\n              v-model=\"ruleForm.postId\"\n              filterable\n              :disabled=\"isdisabled2\"\n              style=\"width:250px;\"\n              @change=\"change5\"\n              placeholder=\"请选择\"\n            >\n             <el-option v-for=\"item in postList\" :key='item.id' :label='item.name' :value='item.id'></el-option>\n           \n            </el-select>\n          </el-form-item>\n\n          <el-form-item\n            label=\"人员排序码\"\n            prop=\"sort\"\n          >\n            <el-input\n              v-model=\"ruleForm.sort\"\n              :disabled=\"isdisabled2\"\n              style=\"width:250px;\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"办公地址\" style prop=\"oa\">\n            <el-input\n              v-model=\"ruleForm.oa\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" style prop=\"email\">\n            <el-input\n              v-model=\"ruleForm.email\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"办公电话\" style prop=\"phone\">\n            <el-input\n              v-model=\"ruleForm.phone\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"传真\" style prop=\"fax\">\n            <el-input\n              v-model=\"ruleForm.fax\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"直接领导\" style prop=\"zzld\">\n            <el-input\n              v-model=\"ruleForm.zzld\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"参加工作时间\" style prop=\"cjgzsj\">\n            <el-input\n              v-model=\"ruleForm.cjgzsj\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"进入本单位时间\" style prop=\"jrbdwsj\">\n            <el-input\n              v-model=\"ruleForm.jrbdwsj\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"ruleForm-r\">\n          <el-form-item label=\"姓名\" style prop=\"name\">\n            <el-input\n              v-model=\"ruleForm.name\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"手机号\" style prop=\"mobile\">\n            <el-input\n              v-model=\"ruleForm.mobile\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"性别\" style prop=\"sex\">\n            <el-select\n              v-model=\"ruleForm.sex\"\n              filterable\n              style=\"width:250px;\"\n            :disabled=\"isdisabled2\"\n              placeholder=\"请选择\"\n            >\n              <el-option v-for=\"item in sexList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"身份证号\" style prop=\"idCard\">\n            <el-input\n              v-model=\"ruleForm.idCard\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"出生日期\" style prop=\"birthday\">\n            <el-input\n              v-model=\"ruleForm.birthday\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"家庭邮编\" style prop=\"jtyb\">\n            <el-input\n              v-model=\"ruleForm.jtyb\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"家庭电话\" style prop=\"homePhone\">\n            <el-input\n              v-model=\"ruleForm.homePhone\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"家庭住址\" style prop=\"address\">\n            <el-input\n              v-model=\"ruleForm.address\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"政治面貌\" style prop=\"zzmm\">\n            <el-input\n              v-model=\"ruleForm.zzmm\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"备注\" style prop=\"remark\">\n            <el-input\n              v-model=\"ruleForm.remark\"\n              type=\"textarea\"\n              style=\"width:250px;\"\n              :disabled=\"isdisabled2\"\n              placeholder=\"暂无\"\n            ></el-input>\n          </el-form-item>\n          <el-button type=\"primary\" style=\"margin:50px 0 0 260px;\" @click=\"addDep\">\n            修改\n        </el-button>\n        </div> \n        \n    </el-form>\n    </el-dialog>\n    <!-- excel导入 -->\n      <el-dialog :title=\"title2\" class=\"atemplate\" :visible.sync=\"atemplate\" append-to-body>\n        <p>\n          <span>*</span>导入前先下载相应模板，按照模板要求填写对应信息。\n        </p>\n        <div slot=\"footer\" class=\"atemplate-footer\">\n          <el-button class=\"footer-left\" >\n            <a :href=\"apiBase+'/api/person/download'\">\n            模板下载\n            </a>\n          </el-button>\n          <el-upload\n          ref=\"upload\"\n          :limit=\"1\"\n          accept=\".xls,.xlsx\"\n          :headers=\"upload.headers\"\n          :action=\"upload.url\"\n          :disabled=\"upload.isUploading\"\n          :name=\"upload.name\"\n          :on-progress=\"handleFileUploadProgress\"\n          :on-success=\"handleFileSuccess\"\n          :auto-upload=\"true\"\n        >\n            <div class=\"el-upload__text\">\n              <el-button class=\"footer-right\" @click=\"submitFileForm\">选择excel导入</el-button>\n            </div>\n          </el-upload>\n        </div>\n      </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { getPage,getPage2,getPage3,getList,getUnit,addPerson,addPerson2,getPerson,deletePerson} from \"@/api/userManagement/userList\";\nimport {apiBase} from \"../../../../build/apiBase.js\"\nexport default {\n  name: \"department\",\n  data() {\n    return {\n      data: [],\n      title: \"新增\",\n      yearList: [],\n      classList: [],\n      adata: [],\n      atemplate:false,\n      title2:'模板导入',\n      title3:'个人中心',\n      total: 10,\n      unitList:[],\n      deptList:[],\n      postList:[],\n      apiBase,\n      sexList:[\n        {label:'男',value:1},\n        {label:'女',value:0},\n        {label:'未知',value:2},\n      ],\n      rybzList:[\n        {\n          label:'公务员编制',value:'公务员编制'\n        },{\n          label:'事业单位编制',value:'事业单位编制'\n        },{\n          label:'其他',value:'其他'\n        }\n      ],\n      levelList:[\n        {\n          label:'国家级正职',value:'国家级正职'\n        },{\n          label:'国家级副职',value:'国家级副职'\n        },{\n          label:'省部级正职',value:'省部级正职'\n        },{\n          label:'省部级副职',value:'省部级副职'\n        },{\n          label:'厅局级正职',value:'厅局级正职'\n        },{\n          label:'厅局级副职',value:'厅局级副职'\n        },{\n          label:'县处级正职',value:'县处级正职'\n        },{\n          label:'县处级副职',value:'县处级副职'\n        },{\n          label:'乡科级正职',value:'乡科级正职'\n        },{\n          label:'乡科级副职',value:'乡科级副职'\n        },{\n          label:'股所级正职',value:'股所级正职'\n        },{\n          label:'股所级副职',value:'股所级副职'\n        }\n      ] ,    \n      loading: false,\n      dialogFormVisible: false,\n      dialogFormVisible2: false,\n      isdisabled2:true,\n      isdisabled: false,\n      isshow: false,\n      id:'',\n      form: {\n        deptId: \"\",\n        keyword: \"\",\n        postId: \"\",\n        page: 1,\n        size: 10,\n      },\n      ruleForm: {deptName:'',unitName:'',account: \"\",address: null,birthday: null,cjgzsj: null,contacts: null,createAt: \"\",delFlag: \"\",deptId: \"\",deptName: \"\",eid: \"\",email: null,fax: null,homeAddress: null,homePhone: null,id: \"\",idCard: null,jrbdwsj: null,jtyb: null,level: \"\",lxdh: null,mobile: \"\",name: \"\",oa: null,phone: null,post: null,postId: null,postLevel: null,remark: null,role: \"\",rybz: null,sex: \"\",shortMobile: null,sort: null,unitId: null,unitName: \"\",unitSort: null,updateAt: null,zzld: null,zzmm: null,\n      },\n      ruleForm: {deptName:'',unitName:'',account: \"\",address: null,birthday: null,cjgzsj: null,contacts: null,createAt: \"\",delFlag: \"\",deptId: \"\",deptName: \"\",eid: \"\",email: null,fax: null,homeAddress: null,homePhone: null,id: \"\",idCard: null,jrbdwsj: null,jtyb: null,level: \"\",lxdh: null,mobile: \"\",name: \"\",oa: null,phone: null,post: null,postId: null,postLevel: null,remark: null,role: \"\",rybz: null,sex: \"\",shortMobile: null,sort: null,unitId: null,unitName: \"\",unitSort: null,updateAt: null,zzld: null,zzmm: null,\n      },\n      upload: {\n        // 是否显示弹出层（用户导入）\n        open: false,\n        // 弹出层标题（用户导入）\n        title: \"\",\n        // 是否禁用上传\n        isUploading: false,\n        name:\"source_file\",\n        // 是否更新已经存在的用户数据\n        updateSupport: 0,\n        // 设置上传的请求头部\n        // 上传的地址\n        url: apiBase + \"api/person/import\",\n      },\n      rules: {\n        unitId: [\n          { required: true, message: \"所属单位不能为空\", trigger: \"blur\" },\n        ],\n        deptId: [\n          { required: true, message: \"所属部门不能为空\", trigger: \"blur\" },\n        ],\n        rybz: [\n          { required: true, message: \"人员编制不能为空\", trigger: \"blur\" },\n        ],\n        level: [{ required: true, message: \"职级不能为空\", trigger: \"blur\" }],\n        postId: [\n          { required: true, message: \"人员岗位不能为空\", trigger: \"blur\" },\n        ],\n        name: [{ required: true, message: \"姓名不能为空\", trigger: \"blur\" }],\n        mobile: [\n          { required: true, message: \"手机号不能为空\", trigger: \"blur\" },\n        ],\n        sex: [{ required: true, message: \"性别不能为空\", trigger: \"blur\" }],\n      },\n    };\n  },\n  mounted() {\n    this.handleQuery();\n    this.handleQuery2();\n    this.handleQuery3();\n    this.handleSelect()\n  },\n  methods: {\n    handleruleForm() {\n      this.$refs[\"ruleForm\"].validate((valid) => {\n        if (valid) {\n          if(this.ruleForm.id){\n            addPerson2(this.ruleForm).then(res=>{\n              if(res.data.code===200){\n                this.handleQuery()\n                this.dialogFormVisible = false;\n                console.log(res.data)\n              }else{\n                this.msgError(res.message)\n              }\n              this.dialogFormVisible2=false\n            })\n          }else{\n            addPerson(this.ruleForm).then(res=>{\n              if(res.data.code===200){\n                console.log(res.data)\n                this.dialogFormVisible = false;\n                this.handleQuery()\n              }else{\n                this.msgError(res.message)\n              }\n            })\n          }\n          \n        }\n      });\n    },\n    unique(arr){\n    var result = [];\n    var hash = {};\n    for ( var i=0;i<arr.length;i++){\n        var key = (typeof arr[i]) + arr[i];\n        if(!hash[key]){\n            result.push(arr[i]);\n            hash[key] = true;\n        }\n    }\n    return result;\n}\n,\n\n    handleQueryForm() {\n      this.form.page=1\n      this.handleQuery()\n    },\n    handleQuery() {\n      this.loading = true;\n      getPage(this.form).then((res) => {\n        if (res.data.code === 200) {\n          this.data = res.data.data.records;\n          this.total = res.data.data.total;\n          this.loading = false;\n        } else {\n          this.msgError(message);\n        }\n      });\n    },\n    handleQuery2() {\n   \n      getPage2(this.form).then((res) => {\n        if (res.data.code === 200) {\n          let len=res.data.data.records\n          \n            this.deptList=len;\n        } else {\n          this.msgError(message);\n        }\n      });\n    },\n    handleQuery3() {\n      getPage3(this.form).then((res) => {\n          if (res.data.code === 200) {\n          let len=res.data.data.records\n          \n            this.postList=len\n        } else {\n          this.msgError(message);\n        }\n      });\n    },\n    handleSelect() {\n      getList().then(res=>{\n        if(res.data.code===200){\n          this.unitList=res.data.data\n        }else{\n          this.msgError(res.message)\n        }\n      })\n    },\n    change1(row){\n      let id=this.ruleForm.unitId\n      let index=this.unitList.map(item=>item.id).indexOf(row)\n      this.ruleForm.unitName=this.unitList[index].name\n      console.log(this.ruleForm.unitName)\n      getUnit(id).then(res=>{\n        if(res.data.code===200){\n        let len=res.data.data\n            this.deptList=len\n         //this.deptList=this.unique(this.deptList)\n        console.log(this.deptList)\n        }\n      })\n      this.$forceUpdate()\n    },\n    change2(row){\n      if(row){\n        let index=this.deptList.map(item=>item.id).indexOf(row)\n      this.ruleForm.deptName=this.deptList[index].deptName\n      }\n      console.log(this.ruleForm.deptName)\n      this.$forceUpdate()\n    },\n    change3(){\n      this.$forceUpdate()\n    },\n    change4(){\n      this.$forceUpdate()\n    },\n    change5(row){\n      if(row){\n        let index=this.postList.map(item=>item.id).indexOf(row)\n      \n        this.ruleForm.post=this.postList[index].name\n      }\n       console.log(this.ruleForm.post)\n      this.$forceUpdate()\n    },\n\n    addDep(row) {\n      this.dialogFormVisible = true;\n      \n      if (row.id||this.id) {\n        this.ruleForm={deptName:'',unitName:'',account: \"\",address: null,birthday: null,cjgzsj: null,contacts: null,createAt: \"\",delFlag: \"\",deptId: \"\",deptName: \"\",eid: \"\",email: null,fax: null,homeAddress: null,homePhone: null,id: \"\",idCard: null,jrbdwsj: null,jtyb: null,level: \"\",lxdh: null,mobile: \"\",name: \"\",oa: null,phone: null,post: null,postId: null,postLevel: null,remark: null,role: \"\",rybz: null,sex: \"\",shortMobile: null,sort: null,unitId: null,unitName: \"\",unitSort: null,updateAt: null,zzld: null,zzmm: null,}\n        if(row.id){\n            this.id=row.id\n        }else{\n          row.id=this.id\n        }\n        this.id=row.id\n        this.title = \"修改\";\n        \n        getPerson(row.id).then(res=>{\n          if(res.data.code===200){\n            console.log(res.data.data)\n            this.ruleForm=res.data.data\n            this.change1(this.ruleForm.unitId)\n            this.change2()\n            this.change3()\n            this.change4()\n            this.change5()\n            this.$forceUpdate()\n          }else{\n            this.msgError(res.message)\n          }\n        })\n      } else {\n        this.ruleForm={deptName:'',unitName:'',account: \"\",address: null,birthday: null,cjgzsj: null,contacts: null,createAt: \"\",delFlag: \"\",deptId: \"\",deptName: \"\",eid: \"\",email: null,fax: null,homeAddress: null,homePhone: null,id: \"\",idCard: null,jrbdwsj: null,jtyb: null,level: \"\",lxdh: null,mobile: \"\",name: \"\",oa: null,phone: null,post: null,postId: null,postLevel: null,remark: null,role: \"\",rybz: null,sex: \"\",shortMobile: null,sort: null,unitId: null,unitName: \"\",unitSort: null,updateAt: null,zzld: null,zzmm: null,}\n        this.id=''\n        this.title = \"新增\";\n      }\n      event.stopPropagation()\n    },\n    deleteDep(row) {\n      if(row.id){\n        this.$confirm(\"用户信息删除后将不可恢复\", \"警告\", {\n              confirmButtonText: \"确定\",\n              cancelButtonText: \"取消\",\n              type: \"warning\",\n            })\n              .then(function () {\n                return deletePerson(row.id);\n              })\n              .then((res) => {\n                if(res.data.code===200){\n                  this.handleQuery()\n                  \n                }else{\n                  this.msgError(res.message)\n                }\n              })\n              event.stopPropagation()\n      }\n    },\n    //导入excel\n    handleImport: function () {\n      this.atemplate = true;\n      this.title2 = \"excel导入\";\n    },\n    /** 下载模板操作 */\n    importTemplate() {\n      importTemplate().then((response) => {\n        if(response.code===0){\n        this.download(response.msg);\n        }else{\n            this.msgError(msgError)\n          }\n      });\n    },\n    // 文件上传中处理\n    handleFileUploadProgress(event, file, fileList) {\n      this.upload.isUploading = true;\n    },\n    // 文件上传成功处理\n    handleFileSuccess(response, file, fileList) {\n      this.upload.open = false;\n      this.upload.isUploading = false;\n      this.$refs.upload.clearFiles();\n      this.$alert(response.message, \"导入结果\", { dangerouslyUseHTMLString: true });\n      this.handleQuery();\n      this.atemplate=false\n    },\n    // 提交上传文件\n    submitFileForm() {\n      this.$refs.upload.submit();\n    },\n    row(row, column, cell, event){\n      this.dialogFormVisible2=true\n      this.addDep(row)\n      this.dialogFormVisible = false\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.career {\n  width: calc(100% - 40px);\n  margin: 0px 20px 75px 20px;\n  background: #fff;\n\n  border-radius: 20px;\n  min-height: calc(100vh - 178px);\n  padding: 30px;\n  position: relative;\n}\n/deep/ .el-form-item {\n  display: inline-block;\n}\n.pos {\n  position: absolute;\n  right: 10px;\n  bottom: 20px;\n}\n/deep/ .el-dialog {\n  width: 1000px;\n}\n.dialogFormVisible {\n  /deep/ .el-form-item {\n    margin-bottom: 22px;\n    display: flex;\n    justify-content: flex-end;\n  }\n  /deep/ .el-dialog__body {\n    padding: 30px 20px 0 20px;\n  }\n  #wuxu {\n    position: absolute;\n    top: 30px;\n    left: 0;\n    font-size: 12px;\n    color: #999;\n  }\n}\n/deep/ .el-form {\n  overflow: hidden;\n  \n}\n.ruleForm-l {\n  margin:0 20px;\n  float:left;\n}\n.ruleForm-r {\n   margin:0 20px;\n   float:left;\n}\n.atemplate {\n  /deep/ .el-dialog{\n    width:600px;\n  }\n  /deep/ .el-dialog__body {\n    font-size: 14px;\n    line-height: 25px;\n    span {\n      color: #ff4949;\n    }\n  }\n  .atemplate-footer {\n    padding: 0 20px;\n    display: flex;\n    justify-content: space-around;\n    .el-button {\n      width: 160px;\n      height: 36px;\n      background: #1890ff;\n      color: #fff;\n    }\n    .footer-left {\n      border: solid 1px #1890ff;\n      color: #1890ff;\n      background: #fff;\n    }\n  }\n}\n/deep/.el-table tr{\n  position: relative;\n  z-index:9;\n}\n/deep/ .el-table .cell{\n.el-button--text{\n  position: relative;\n  z-index: 99;\n}\n}\n/deep/ .el-textarea__inner{\n  height:100px;\n}\n</style>\n"]}]}